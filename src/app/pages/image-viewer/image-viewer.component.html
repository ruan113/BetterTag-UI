<!-- IMAGE SHOW CONTROLLER -->
<div id="viewer-body" class="inner-body" [ngClass]="{'full-screen': filter.modes.fullScreen}" *ngIf="filter">
  <app-content-filter (Back)="retorna()" (Next)="avanca()" (Play)="play()" [playing]="playing">
  </app-content-filter>

  <app-display-controller (Back)="retorna()" (Next)="avanca()" (Play)="play()" [playing]="playing"
                          *ngIf="!filter.modes.fullScreen">
  </app-display-controller>

  <div class="status-button" (click)="showStatusBoard = !showStatusBoard;"
       *ngIf="!filter.modes.fullScreen && !isMobile">
    <i class="fas fa-chevron-circle-left"
       [ngClass]="{'status-opened ': showStatusBoard, 'status-closed ': !showStatusBoard}"></i>
  </div>

  <div class="filter-button" *ngIf="isMobile && filter.modes.fullScreen">
    <i class="fas fa-filter" (click)="toggleFilters()"></i>
  </div>

  <div class="cronometro-wrapper" [ngClass]="{
        'fade-out': !showCronometroAnimation}" *ngIf="!isMobile">
    <div class="seconds-wrapper">
      <span>{{intervalLoopTime / 1000}}s</span>
    </div>
    <img src="assets/images/cronometro.svg" alt="">
  </div>

  <app-status-board (close)="showStatusBoard = $event;"
                    [ngClass]="{'status-opened ': showStatusBoard, 'status-closed ': !showStatusBoard}"
                    [photo]="photos[indexSelected]" *ngIf="!isMobile"></app-status-board>

  <div class="censure-panel" *ngIf="filter.modes.underAgedMode">
    <h2>Conteudo Adulto!</h2>
    <img src="https://media.giphy.com/media/QIPEV0HWAiXVm/giphy.gif" alt="">
  </div>

  <div class="content-box"
       [ngClass]="{'img-fullscreen': filter.modes.fullScreen, 'img-blur': filter.modes.underAgedMode}">
    <div class="censure-block" *ngIf="filter.modes.underAgedMode"></div>
    <img src='{{photos[indexSelected].url}}' [ngClass]="{'d-none': loading}"
         (error)='removePhoto();' (load)="loading = false; setTimer();"
         *ngIf="photos[indexSelected] && photos[indexSelected].url && !photos[indexSelected].needIframe"
         (click)="checkIfIsImage(photos[indexSelected].url) ? avanca() : null">

    <iframe [src]="photos[indexSelected].url | safe" frameborder="0" scrolling="no" allowfullscreen
            (load)="this.loading = false; this.utilsService.checkIsVideo(photos[indexSelected].url) ? null : setTimer()"
            (error)='removePhoto();' *ngIf="photos[indexSelected] && photos[indexSelected].needIframe"></iframe>

    <div class="loader-wrapper" *ngIf="loading;">
      <div class="loader"></div>
    </div>
  </div>
</div>

<div class="loader-wrapper" *ngIf="!filter">
  <div class="loader"></div>
</div>
